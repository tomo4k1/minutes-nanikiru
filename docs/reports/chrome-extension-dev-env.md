# Chrome拡張機能 開発環境調査レポート (2025年版)

## 1. 概況: Manifest V3 時代の到来

2025年現在、Chrome拡張機能開発は **Manifest V3 (MV3)** が完全なスタンダードとなっています。
Manifest V2 は廃止され、新規開発においては MV3 への準拠が必須です。

### MV3 の主な変更点と影響
*   **Service Workers**: バックグラウンドページが廃止され、イベント駆動型の Service Worker に移行。常駐できなくなったため、状態管理の方法が変わりました（`chrome.storage` の活用が必須）。
*   **セキュリティ強化**: リモートコードの実行が禁止されました。これにより、外部スクリプトの読み込みが制限され、バンドル時にコードを含める必要があります。
*   **Declarative Net Request API**: `webRequest` API のブロッキング機能が制限され、より宣言的な API への移行が求められています。

---

## 2. 主要フレームワーク比較

モダンな開発体験（DX）を提供するフレームワークとして、主に **WXT** と **Plasmo** が台頭しています。

### 🏆 WXT (Web Extension Toolkit)
**「次世代のスタンダード」**
Vite をベースにした、非常にモダンで柔軟性の高いフレームワークです。2025年のトレンドとして最も注目されています。

*   **特徴**:
    *   **フレームワーク非依存**: React, Vue, Svelte, Solid など、好きな UI フレームワークを使えます。
    *   **Vite ベース**: 高速な HMR (Hot Module Replacement) とビルドパフォーマンス。
    *   **ファイルベースのエントリーポイント**: Next.js や Nuxt のように、ファイル置くだけで認識されます。
    *   **自動インポート**: 面倒な import 文を減らせます。
    *   **クロスブラウザ対応**: Chrome, Firefox, Safari, Edge 向けに一度にビルド可能。
*   **向いているケース**:
    *   最新の DX で開発したい場合。
    *   特定の UI フレームワークに縛られたくない場合。
    *   Vite のエコシステムを活用したい場合。

### ⚛️ Plasmo
**「拡張機能版 Next.js」**
React 開発者にとって非常に親しみやすい、React ファーストなフレームワークです。

*   **特徴**:
    *   **React 特化**: React + TypeScript での開発に最適化されています。
    *   **Next.js ライク**: ディレクトリ構成やルーティングが Next.js に似ています。
    *   **強力な UI サポート**: Content Scripts UI という機能で、Web ページへの React コンポーネント注入が容易です。
*   **向いているケース**:
    *   React でガッツリ開発したい場合。
    *   Next.js の開発体験が好きな場合。
    *   Web ページ上にリッチな UI を注入したい場合。

### その他
*   **CRXJS**: Vite プラグインとして動作。シンプルですが、WXT ほど多機能ではありません。既存の Vite プロジェクトを拡張機能化する場合などに便利です。

---

## 3. 技術選定ガイド & 推奨構成

### 結論: 迷ったら **WXT** がおすすめ！
柔軟性が高く、Vite ベースで動作が軽快なため、今後のスタンダードとして安心して採用できます。
React が大好きで Next.js のような体験を強く求めるなら **Plasmo** もアリですが、汎用性と将来性で WXT に軍配が上がります。

### ギャルエンジニア的おすすめ構成 💖

これから作るなら、この構成が最強！

*   **Framework**: **WXT**
    *   *理由*: 速いし、楽だし、Vite だから！
*   **UI Library**: **React** or **Vue**
    *   *理由*: WXT はどっちもイケるから、チームや好みに合わせて。
*   **Styling**: **Tailwind CSS**
    *   *理由*: 爆速でスタイリングできるし、WXT との相性もバッチリ。
*   **Language**: **TypeScript**
    *   *理由*: 型しか勝たん。バグ減らしてこ。

---

## 4. 参考リンク
*   [WXT 公式ドキュメント](https://wxt.dev/)
*   [Plasmo 公式ドキュメント](https://docs.plasmo.com/)
*   [Chrome Extensions Documentation](https://developer.chrome.com/docs/extensions)
